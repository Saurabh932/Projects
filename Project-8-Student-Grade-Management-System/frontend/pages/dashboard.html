<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Grade Management</title>
    <link rel="stylesheet" href="../assets/css/dashboard.css">
</head>
<body>

<section class="navbar">
    <h2>Grade Management</h2>
    <div>
        <span id="user-email"></span>
        <button onclick="logout()" class="logout-btn">Logout</button>
    </div>
</section>

<section class="container">

    <h2>Students</h2>
    <button class="btn btn-success" id="addStudentBtn" onclick="openAddStudentModal()">+ Add Student</button>

    <div class="filter-box">
        <input type="text" id="searchBox" placeholder="Search name..." oninput="applyFilters()">
        
        <select id="sortSelect" onchange="applyFilters()">
            <option value="name">Name</option>
            <option value="average">Average</option>
            <option value="grade">Grade</option>
        </select>

        <select id="orderSelect" onchange="applyFilters()">
            <option value="asc">Asc</option>
            <option value="desc">Desc</option>
        </select>

        <button class="btn btn-primary" onclick="applyFilters()">Apply</button>
    </div>


    <div id="approvalSection" style="display:none;">
        <h3 onclick="toggleApprovalCard()" id="toggle" style="cursor: pointer;">Pending Approvals â¬‡</h3>

        <div id="approvalCard">
            <table class="table">
                <thead>
                    <tr><th>Email</th><th>Actions</th></tr>
                </thead>
                <tbody id="approvalBody"></tbody>
            </table>
        </div>
    </div>


    <table class="table" id="studentsTable">
        <thead>
            <tr>
                <th>Name</th>
                <th>Average</th>
                <th>Grade</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="studentsTableBody"></tbody>
    </table>

    <div class="pagination">
        <button class="btn" onclick="prevPage()">Prev</button>
        <button class="btn" onclick="nextPage()">Next</button>
    </div>

</section>



<div class="modal" id="addStudentModal">
    <div class="modal-content">
        <h3>Add Student</h3>

        <label>Name</label>
        <input id="studentName" type="text">

        <button type="button" onclick="addStudent()">Save</button>
        <button type="button" onclick="closeAddStudentModal()">Cancel</button>
    </div>
</div>


<div class="modal" id="addSubjectModal">
    <div class="modal-content">
        <h3>Add Marks for <span id="subjectStudentName"></span></h3>

        <input id="subjectName" placeholder="Subject Name">
        <input id="subjectMarks" placeholder="Marks" type="number">
        <input id="subjectMaxMarks" placeholder="Max Marks" value="100" type="number">
        <input id="teacherName" placeholder="Teacher">

        <button onclick="addSubjectMarks()">Add Marks</button>
        <button onclick="closeSubjectModal()">Cancel</button>
    </div>
</div>


<script src="../assets/js/dashboard.js"></script>
</body>
</html>